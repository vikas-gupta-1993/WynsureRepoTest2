<?xml version="1.0" encoding="ISO-8859-15" ?>
<EntityExport><aEDA_ActivityDescService><Rule><aWFRuleDesc><RuleDescription Id="64"><![CDATA[]]></RuleDescription><RuleText Id="20"><![CDATA[; aWF_RT_Formule (aEDA_ServiceActivityDescRuleEngine) (Def Version:4) (Implem Version:1)

class aWF_RT_Formule (aEDA_ServiceActivityDescRuleEngine)

uses aWF_PersonAnonymizationRequest, aSF_Manage_LogOn, aEDA_Raise_ExternalEvent, 
   aSLI_Manage_Actors, aCnT_Manage_Actor_ForErrorManagement, aSLI_Manage_Employee, 
   aSLI_Manage_CensusLoading, aSLI_Consult_Policy, aSLI_Subscribe_LifePolicy, aSLI_Subscribe_Policy, 
   aSLI_Consult_Product, aSLI_Manage_CustomerRequest, aSF_Manage_RequirementRequest, 
   aSCB_Manage_Login, aSLI_Consult_LifePolicy, aSLI_Consult_Group, aSLI_Consult_Operations, 
   aSF_ManageObject, aSLI_Manage_Payment, aSCB_Manage_BankMobility, aSLI_FR_Manage_DSN, 
   aSLI_FR_ManageBill_DSN, aSH_ManageClaim, aSLIC_Manage_Claim, aSLIC_Consult_Claim, 
   aSLIC_Manage_LifeClaim, aSLIC_Consult_LifeClaim, aSLI_Manage_TC, aSLI_Manage_LabExams, 
   aSLI_Manage_ACORDTXLife, aSLI_Manage_MVR, aSLI_Manage_MedicalUW, aSHFR_ManageClaim, 
   aSHFR_ManageNoemieRetour, aSHFR_Consult_Claim, aSHFR_UpdateThirdPartyOperation, 
   aSCB_Consult_TodoList, aSCB_Manage_ConversionSystems, aSF_ManageProcesses, aSLI_Manage_Broker, 
   aSLI_Manage_Accounting, aSLI_Consult_CommissionContract, aSLI_Subscribe_GBPContract, 
   aSLI_Manage_Report, aSLI_Manage_GBPMember, aSLI_Endorse_Policy, aSLI_Manage_GBPQuote, 
   aSLI_Endorse_LifePolicy, aSLI_Subscribe_CommissionContract, aSLI_Manage_Disbursement, 
   aSLI_Manage_GenericCensusLoad, aSLI_Manage_Note, aSLI_Manage_ServiceProvider, 
   aSLI_FR_Manage_DSN_TO_BE_DELETED, aSCV_Consult_CashValuePolicy, aSCV_Subscribe_CashValuePolicy, 
   aSCV_Endorse_Policy, aSLO_Subscribe_LoanPolicy, aSLO_Consult_LoanPolicy, aSPnC_Endorse_PnCPolicy, 
   aSPnC_Subscribe_PnCPolicy, aSPnC_Consult_PnCPolicy, aSPnC_Consult_Claim, aSPnC_Manage_Claim, 
   aSF_Manage_Transactions, aCnT_BSTest, _todelete_aRSLI_Manage_Config, aSLO_Endorse_LoanPolicy, 
   aSLI_Manage_PortabilityRequest, aSLIFR_Manage_SetPersonOverriddenTaxRate, aSF_ManagePicker


; Rule
; Classification
function PersonAnonymizationRequest return aWF_PersonAnonymizationRequest
   if self.Master <> Nil
      return aWF_PersonAnonymizationRequest(self.Master.OnObject)
   else
      return aWF_PersonAnonymizationRequest(self.OnObject)
   endIf
endFunc 

function aSF_Manage_LogOn return aSF_Manage_LogOn
   _Result = self.GetBSForClassDef(218178721)
endFunc 

function aEDA_Raise_ExternalEvent return aEDA_Raise_ExternalEvent
   _Result = self.GetBSForClassDef(218178969)
endFunc 

function aSLI_Manage_Actors return aSLI_Manage_Actors
   _Result = self.GetBSForClassDef(218187526)
endFunc 

function aCnT_Manage_Actor_ForErrorManagement return aCnT_Manage_Actor_ForErrorManagement
   _Result = self.GetBSForClassDef(218196959)
endFunc 

function aSLI_Manage_Employee return aSLI_Manage_Employee
   _Result = self.GetBSForClassDef(218187595)
endFunc 

function aSLI_Manage_CensusLoading return aSLI_Manage_CensusLoading
   _Result = self.GetBSForClassDef(218187661)
endFunc 

function aSLI_Consult_Policy return aSLI_Consult_Policy
   _Result = self.GetBSForClassDef(218187535)
endFunc 

function aSLI_Subscribe_LifePolicy return aSLI_Subscribe_LifePolicy
   _Result = self.GetBSForClassDef(218187670)
endFunc 

function aSLI_Subscribe_Policy return aSLI_Subscribe_Policy
   _Result = self.GetBSForClassDef(218187531)
endFunc 

function aSLI_Consult_Product return aSLI_Consult_Product
   _Result = self.GetBSForClassDef(218187536)
endFunc 

function aSLI_Manage_CustomerRequest return aSLI_Manage_CustomerRequest
   _Result = self.GetBSForClassDef(218187530)
endFunc 

function aSF_Manage_RequirementRequest return aSF_Manage_RequirementRequest
   _Result = self.GetBSForClassDef(218187264)
endFunc 

function aSCB_Manage_Login return aSCB_Manage_Login
   _Result = self.GetBSForClassDef(218187004)
endFunc 

function aSLI_Consult_LifePolicy return aSLI_Consult_LifePolicy
   _Result = self.GetBSForClassDef(218187533)
endFunc 

function aSLI_Consult_Group return aSLI_Consult_Group
   _Result = self.GetBSForClassDef(218187723)
endFunc 

function aSLI_Consult_Operations return aSLI_Consult_Operations
   _Result = self.GetBSForClassDef(218187728)
endFunc 

function aSF_ManageObject return aSF_ManageObject
   _Result = self.GetBSForClassDef(218178900)
endFunc 

function aSLI_Manage_Payment return aSLI_Manage_Payment
   _Result = self.GetBSForClassDef(218187534)
endFunc 

function aSCB_Manage_BankMobility return aSCB_Manage_BankMobility
   _Result = self.GetBSForClassDef(218195151)
endFunc 

function aSLI_FR_Manage_DSN return aSLI_FR_Manage_DSN
   _Result = self.GetBSForClassDef(218189324)
endFunc 

function aSLI_FR_ManageBill_DSN return aSLI_FR_ManageBill_DSN
   _Result = self.GetBSForClassDef(218189349)
endFunc 

function aSH_ManageClaim return aSH_ManageClaim
   _Result = self.GetBSForClassDef(218193580)
endFunc 

function aSLIC_Manage_Claim return aSLIC_Manage_Claim
   _Result = self.GetBSForClassDef(218188266)
endFunc 

function aSLIC_Consult_Claim return aSLIC_Consult_Claim
   _Result = self.GetBSForClassDef(218188267)
endFunc 

function aSLIC_Manage_LifeClaim return aSLIC_Manage_LifeClaim
   _Result = self.GetBSForClassDef(218188220)
endFunc 

function aSLIC_Consult_LifeClaim return aSLIC_Consult_LifeClaim
   _Result = self.GetBSForClassDef(218188215)
endFunc 

function aSLI_Manage_TC return aSLI_Manage_TC
   _Result = self.GetBSForClassDef(218187871)
endFunc 

function aSLI_Manage_LabExams return aSLI_Manage_LabExams
   _Result = self.GetBSForClassDef(218187782)
endFunc 

function aSLI_Manage_ACORDTXLife return aSLI_Manage_ACORDTXLife
   _Result = self.GetBSForClassDef(218187950)
endFunc 

function aSLI_Manage_MVR return aSLI_Manage_MVR
   _Result = self.GetBSForClassDef(218187953)
endFunc 

function aSLI_Manage_MedicalUW return aSLI_Manage_MedicalUW
   _Result = self.GetBSForClassDef(218187761)
endFunc 

function aSHFR_ManageClaim return aSHFR_ManageClaim
   _Result = self.GetBSForClassDef(218194348)
endFunc 

function aSHFR_ManageNoemieRetour return aSHFR_ManageNoemieRetour
   _Result = self.GetBSForClassDef(218194352)
endFunc 

function aSHFR_Consult_Claim return aSHFR_Consult_Claim
   _Result = self.GetBSForClassDef(218194354)
endFunc 

function aSHFR_UpdateThirdPartyOperation return aSHFR_UpdateThirdPartyOperation
   _Result = self.GetBSForClassDef(218194355)
endFunc 

function aSCB_Consult_TodoList return aSCB_Consult_TodoList
   _Result = self.GetBSForClassDef(218187118)
endFunc 

function aSCB_Manage_ConversionSystems return aSCB_Manage_ConversionSystems
   _Result = self.GetBSForClassDef(218187154)
endFunc 

function aSF_ManageProcesses return aSF_ManageProcesses
   _Result = self.GetBSForClassDef(218187271)
endFunc 

function aSLI_Manage_Broker return aSLI_Manage_Broker
   _Result = self.GetBSForClassDef(218187528)
endFunc 

function aSLI_Manage_Accounting return aSLI_Manage_Accounting
   _Result = self.GetBSForClassDef(218187532)
endFunc 

function aSLI_Consult_CommissionContract return aSLI_Consult_CommissionContract
   _Result = self.GetBSForClassDef(218187594)
endFunc 

function aSLI_Subscribe_GBPContract return aSLI_Subscribe_GBPContract
   _Result = self.GetBSForClassDef(218187597)
endFunc 

function aSLI_Manage_Report return aSLI_Manage_Report
   _Result = self.GetBSForClassDef(218187600)
endFunc 

function aSLI_Manage_GBPMember return aSLI_Manage_GBPMember
   _Result = self.GetBSForClassDef(218187644)
endFunc 

function aSLI_Endorse_Policy return aSLI_Endorse_Policy
   _Result = self.GetBSForClassDef(218187720)
endFunc 

function aSLI_Manage_GBPQuote return aSLI_Manage_GBPQuote
   _Result = self.GetBSForClassDef(218187686)
endFunc 

function aSLI_Endorse_LifePolicy return aSLI_Endorse_LifePolicy
   _Result = self.GetBSForClassDef(218187719)
endFunc 

function aSLI_Subscribe_CommissionContract return aSLI_Subscribe_CommissionContract
   _Result = self.GetBSForClassDef(218187736)
endFunc 

function aSLI_Manage_Disbursement return aSLI_Manage_Disbursement
   _Result = self.GetBSForClassDef(218187992)
endFunc 

function aSLI_Manage_GenericCensusLoad return aSLI_Manage_GenericCensusLoad
   _Result = self.GetBSForClassDef(218188041)
endFunc 

function aSLI_Manage_Note return aSLI_Manage_Note
   _Result = self.GetBSForClassDef(218188053)
endFunc 

function aSLI_Manage_ServiceProvider return aSLI_Manage_ServiceProvider
   _Result = self.GetBSForClassDef(218188054)
endFunc 

function aSLI_FR_Manage_DSN_TO_BE_DELETED return aSLI_FR_Manage_DSN_TO_BE_DELETED
   _Result = self.GetBSForClassDef(218189327)
endFunc 

function aSCV_Consult_CashValuePolicy return aSCV_Consult_CashValuePolicy
   _Result = self.GetBSForClassDef(218194370)
endFunc 

function aSCV_Subscribe_CashValuePolicy return aSCV_Subscribe_CashValuePolicy
   _Result = self.GetBSForClassDef(218194397)
endFunc 

function aSCV_Endorse_Policy return aSCV_Endorse_Policy
   _Result = self.GetBSForClassDef(218194428)
endFunc 

function aSLO_Subscribe_LoanPolicy return aSLO_Subscribe_LoanPolicy
   _Result = self.GetBSForClassDef(218194306)
endFunc 

function aSLO_Consult_LoanPolicy return aSLO_Consult_LoanPolicy
   _Result = self.GetBSForClassDef(218194307)
endFunc 

function aSPnC_Endorse_PnCPolicy return aSPnC_Endorse_PnCPolicy
   _Result = self.GetBSForClassDef(218193199)
endFunc 

function aSPnC_Subscribe_PnCPolicy return aSPnC_Subscribe_PnCPolicy
   _Result = self.GetBSForClassDef(218193201)
endFunc 

function aSPnC_Consult_PnCPolicy return aSPnC_Consult_PnCPolicy
   _Result = self.GetBSForClassDef(218193241)
endFunc 

function aSPnC_Consult_Claim return aSPnC_Consult_Claim
   _Result = self.GetBSForClassDef(218193295)
endFunc 

function aSPnC_Manage_Claim return aSPnC_Manage_Claim
   _Result = self.GetBSForClassDef(218193310)
endFunc 

function aSF_Manage_Transactions return aSF_Manage_Transactions
   _Result = self.GetBSForClassDef(218195161)
endFunc 

function aCnT_BSTest return aCnT_BSTest
   _Result = self.GetBSForClassDef(218196957)
endFunc 

function _todelete_aRSLI_Manage_Config return _todelete_aRSLI_Manage_Config
   _Result = self.GetBSForClassDef(218191165)
endFunc 

function aSLO_Endorse_LoanPolicy return aSLO_Endorse_LoanPolicy
   _Result = self.GetBSForClassDef(218562562)
endFunc 

function aSLI_Manage_PortabilityRequest return aSLI_Manage_PortabilityRequest
   _Result = self.GetBSForClassDef(218562582)
endFunc 

function aSLIFR_Manage_SetPersonOverriddenTaxRate return aSLIFR_Manage_SetPersonOverriddenTaxRate
   _Result = self.GetBSForClassDef(222953494)
endFunc 

function aSF_ManagePicker return aSF_ManagePicker
   _Result = self.GetBSForClassDef(219414529)
endFunc 

; FieldDesc
; VarDesc
; Indexes Of TableDesc
procedure WFCalculate(inOut Result : Int4)
   uses aWFCDOeMail
   
   var mail : aWFCDOeMail
   var errorMsg : CString
   
   new(mail)
   mail.RecipientAddress = self.PersonAnonymizationRequest.Email
   mail.Subject = 'Anonymization request treated'
   WriteLn(mail.Corpus, 'Dear ', self.PersonAnonymizationRequest.FirstName, ' ', 
      self.PersonAnonymizationRequest.LastName)
   WriteLn(mail.Corpus, '')
   WriteLn(mail.Corpus, 'Your request ', self.PersonAnonymizationRequest.TreatmentID, 
      ' has been successfully treated')
   if mail.Send(errorMsg)
      Result = 0
   else
      Result = 1
   endIf
   dispose(mail)
endProc 

]]></RuleText><RuleEngineClassDef><aClassDef><Name Id="2"><![CDATA[aEDA_ServiceActivityDescRuleEngine]]></Name><NSId Id="1"><![CDATA[218103810]]></NSId><Id Id="2"><![CDATA[218178862]]></Id></aClassDef></RuleEngineClassDef><RuleEngineUsingObjectContext Id="44"><![CDATA[aWF_PersonAnonymizationRequest]]></RuleEngineUsingObjectContext><RuleEngineUsingKindContext Id="45"><![CDATA[aEDA_ActivityDescService]]></RuleEngineUsingKindContext><ReturnType><aIntType><Name Id="2"><![CDATA[Int4]]></Name><NSId Id="1"><![CDATA[3]]></NSId><Id Id="2"><![CDATA[1024]]></Id></aIntType></ReturnType><FromDate Id="77"><![CDATA[--/--/----]]></FromDate><ToDate Id="78"><![CDATA[--/--/----]]></ToDate><UsedRules><aEDA_ActivityDescService><NSId Id="1"><![CDATA[318842150]]></NSId><Id Id="2"><![CDATA[6]]></Id></aEDA_ActivityDescService></UsedRules><MyOwner><aEDA_ActivityDescService><NSId Id="1"><![CDATA[318842150]]></NSId><Id Id="2"><![CDATA[6]]></Id></aEDA_ActivityDescService></MyOwner><Name Id="3"><![CDATA[Send Email]]></Name><MigrationDate Id="15"><![CDATA[--/--/----]]></MigrationDate><NSId Id="1"><![CDATA[318835511]]></NSId><Id Id="2"><![CDATA[1556]]></Id><Version Id="3"><![CDATA[1]]></Version></aWFRuleDesc></Rule><Code Id="35"><![CDATA[SEAAR]]></Code><IsTechnical Id="72"><![CDATA[No]]></IsTechnical><Resource><aWFX_ResourceRepresentation><RepresentingClassDef><aClassDef><Name>aWF_PersonAnonymizationRequest</Name><NSId>218103810</NSId><Id>218178550</Id></aClassDef></RepresentingClassDef><Description Id="19"><![CDATA[]]></Description><SelectedVars><aInstanceVarDesc><Name>CreationDate</Name><NSId>218103824</NSId><Id>937069620974583826</Id><ClassName>aWF_DataRequestRoot</ClassName></aInstanceVarDesc></SelectedVars><SelectedVars><aInstanceVarDesc><Name>Email</Name><NSId>218103824</NSId><Id>937069736938700848</Id><ClassName>aWF_PersonAnonymizationRequest</ClassName></aInstanceVarDesc></SelectedVars><SelectedVars><aInstanceVarDesc><Name>FirstName</Name><NSId>218103824</NSId><Id>937069736938700816</Id><ClassName>aWF_PersonAnonymizationRequest</ClassName></aInstanceVarDesc></SelectedVars><SelectedVars><aInstanceVarDesc><Name>LastName</Name><NSId>218103824</NSId><Id>937069736938700817</Id><ClassName>aWF_PersonAnonymizationRequest</ClassName></aInstanceVarDesc></SelectedVars><SelectedVars><aInstanceVarDesc><Name>LastUpdate</Name><NSId>218103824</NSId><Id>937069620974583869</Id><ClassName>aWF_DataRequestRoot</ClassName></aInstanceVarDesc></SelectedVars><SelectedVars><aInstanceVarDesc><Name>NotificationMedia</Name><NSId>218103824</NSId><Id>937069736938700846</Id><ClassName>aWF_PersonAnonymizationRequest</ClassName></aInstanceVarDesc></SelectedVars><SelectedVars><aInstanceVarDesc><Name>Status</Name><NSId>218103824</NSId><Id>937069620974583810</Id><ClassName>aWF_DataRequestRoot</ClassName></aInstanceVarDesc></SelectedVars><SelectedVars><aInstanceVarDesc><Name>TreatmentID</Name><NSId>218103824</NSId><Id>937069620974583809</Id><ClassName>aWF_DataRequestRoot</ClassName></aInstanceVarDesc></SelectedVars><UseStringExtract Id="33"><![CDATA[No]]></UseStringExtract><ExtractMode Id="34"><![CDATA[0]]></ExtractMode><StandAlone Id="46"><![CDATA[Yes]]></StandAlone><OnlyExtractSelectedVars Id="56"><![CDATA[No]]></OnlyExtractSelectedVars><UseBuid Id="61"><![CDATA[No]]></UseBuid><Name Id="3"><![CDATA[Person Anonymization Request]]></Name><MigrationDate Id="15"><![CDATA[--/--/----]]></MigrationDate><NSId Id="1"><![CDATA[318834655]]></NSId><Id Id="2"><![CDATA[37]]></Id><Version Id="3"><![CDATA[1]]></Version></aWFX_ResourceRepresentation></Resource><ProcessActivities Id="42"><![CDATA[Yes]]></ProcessActivities><visibility Id="47"><![CDATA[0]]></visibility><LethalErrorText Id="66"><![CDATA[]]></LethalErrorText><Description Id="73"><![CDATA[]]></Description><Name Id="3"><![CDATA[Send Email after Anonymisation Request]]></Name><MigrationDate Id="15"><![CDATA[--/--/----]]></MigrationDate><NSId Id="1"><![CDATA[318842150]]></NSId><Id Id="2"><![CDATA[6]]></Id><Version Id="3"><![CDATA[2]]></Version></aEDA_ActivityDescService></EntityExport>