# (c) 2011 - WYDE
# Support : jproger@wyde.com
#
# $1 : Mapping XML before [in]
# $2 : Mapping XML after [in]
# $3 : Mapping Diff XML [out]
options --auto-save no
print "Mapping Diff"
print "Pre-traitement du fichier 1"
xslt mapping_fix_id.xsl $1 before
print "Pre-traitement du fichier 2"
xslt mapping_fix_id.xsl $2 after
diff before after output
print "Post-traitement de la sortie"
xslt clean_diff.xsl output output
discard before
discard after
save $3 output

print "Done."